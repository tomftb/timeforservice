{% extends 'modalBase.html.twig' %}
{% block title %}{{ parent() }} - New User{% endblock %}
{% block body %}
    {# ADD CLASS FOR tailwind.config.js  -> addVariant('modal','dialog &'); modal:m-0 and modal:p-0 #}
    <div class="m-4 p-4 modal:m-0 modal:p-0 bg-gray-800 rounded-lg">
        <div class="flex justify-between">
            <h1 class="text-xl font-semibold text-white mb-4">Create New User</h1>
            <div class="mr-0">
                {% if app.request.headers.get( 'turbo-frame' ) == 'modal' %}
                     <button class=" text-white flex items-center opacity-70 transition-opacity hover:opacity-100" data-action="modal#close" type="button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M18 6l-12 12"/>
                            <path d="M6 6l12 12"/>
                        </svg>
                    </button>
                {% else %}
                    <a href="{{ path('app_user_index') }}" class="text-sm font-medium text-white">
                        Back to list
                    </a>
                {% endif %}
                <div class="inline-block">
                    {% if form.vars.data.id|default %}
                        {{ include('user/_delete_form.html.twig') }}
                    {% endif %}
                </div>
            </div>
        </div>
        {{ include('user/_form.html.twig') }}
    </div>
{% endblock %}
{# ADD TURBO STREAM FOR APPEND NEW ROW ROW IN MAIN TABLE #}
{% block stream_success %}
    {# add `s` to target to use CSS selector #}
    <turbo-stream action="prepend" targets="#users-list tbody">
        <template>
             {% include('user/_row.html.twig') %}
        </template>
    </turbo-stream>
{% endblock %}