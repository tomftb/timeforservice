{# MODAL #}
{# PREVENT CACHE - right before Turbo takes its snapshot, it dispatches an event called turbo:before-cache and next call modal#close add @winodws for the global element #}
<div {{ attributes.defaults({
    'data-controller':'modal',
    'data-action':'turbo:before-cache@window->modal#close'
}) }}
>
    {# ASSIGN modal_controller.js property target #}
    <dialog 
        data-modal-target="dialog"
        class="open:flex bg-gray-800 rounded-lg shadow-xl inset-0 w-full md:w-fit md:max-w-[50%] md:min-w-[50%] animate-fade-in backdrop:bg-slate-600 backdrop:bg-opacity-80 backdrop:backdrop-blur-sm"
        {# ASSIGN close model method for close dialog via click mouse out of the dialog box add click->modal#closeOutside #}
        data-action="close->modal#close"
    >
        <div class="flex grow p-5">
            <div class="grow overflow-auto p-1">
                {% block content %}{% endblock %}
            </div>
        </div>
    </dialog>
    {# LOADING CONTENT FOR MODAL DIALOG #}
    {%  if block('loading_template') %}
    <template data-modal-target="loadingContent">
       {% block loading_template %}{% endblock %}
    </template>
    {% endif %}
    {# END OF LOADING CONTENT FOR MODAL DIALOG #}
</div>
{# MODAL END #}